<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="https://www.foula-academy.com/assets/css/lift-extensions.css">
{% include head.html %}
</head>
<body>
{% include header.html %}
<main>
{{ content }}
</main>
{% include footer.html %}

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
  const loader = document.querySelector(".loading");

  if (!loader) return;

const isFirstVisit = !sessionStorage.getItem("visit");
sessionStorage.setItem("visit", "true");
/* const isFirstVisit = true; // ← 毎回ローディング表示（テスト用） */

  if (isFirstVisit) {
    sessionStorage.setItem("visit", "true");

    // 強制再描画を挟んでからフェードアウト
    setTimeout(() => {
      loader.style.transition = "opacity 0.6s ease";
      loader.offsetHeight; // ← ここで再描画を強制
      loader.style.opacity = "0";

      setTimeout(() => {
        loader.style.display = "none";
      }, 700); // フェード終了後に非表示
    }, 1500);
  } else {
    loader.style.display = "none";
  }

});

    </script>
    <script>
        // ハンバーガーメニュー
        const toggle = document.querySelector(".toggle");
        const spHeader = document.querySelector(".sp-header");
        const modalMenu = document.querySelector(".modal-menu__container");
        const menuContents = document.querySelector(".modal-menu__contents");
        const menuItems = document.querySelectorAll(".modal-menu__contents-inner ul li");
        const contact = document.querySelector(".contact");
        const address = document.querySelector(".address");
        const sns = document.querySelector(".sns");

        const toggleMenu = () => {
            const isOpen = menuContents.classList.toggle("open");
            modalMenu.classList.toggle("open");
            toggle.classList.toggle("active");
            spHeader.classList.toggle("active");

            [...menuItems, contact, address, sns].forEach((el, i) => {
                if (!el) return;
                if (isOpen) {
                    el.style.opacity = "0";
                    el.style.transform = "translateY(10px)";
                    setTimeout(() => {
                        el.style.transition = "opacity 0.5s ease, transform 0.5s ease";
                        el.style.opacity = "1";
                        el.style.transform = "translateY(0)";
                    }, 200 * i);
                } else {
                    el.removeAttribute("style");
                }
            });
        };

        toggle.addEventListener("click", toggleMenu);
        menuItems.forEach((item) => item.addEventListener("click", toggleMenu));

        // FAQセクションの開閉処理
        const questions = document.querySelectorAll('.question');
        questions.forEach((q) => {
            q.addEventListener('click', () => {
                q.nextElementSibling?.classList.toggle("show");
            });
        });
        document.querySelectorAll('.faq-section-index').forEach((item) => {
            const answer = item.querySelector('.answer');

            item.addEventListener('click', () => {
                const isOpen = item.classList.contains('open');

                // すべて閉じる
                document.querySelectorAll('.faq-section-index').forEach((el) => {
                    el.classList.remove('open');
                    el.querySelector('.answer').style.maxHeight = null;
                });

                // 開いていなかったら開く
                if (!isOpen) {
                    item.classList.add('open');
                    answer.style.maxHeight = answer.scrollHeight + 'px';
                }
            });
        });

        var swiper = new Swiper(".ex-Swiper", {
            loop: true,
            speed: 1000,
            autoplay: {
                delay: 1500,
            },
            slidesPerView: 1,
            spaceBetween: 30,
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
            breakpoints: {

                498: {
                    slidesPerView: 3,
                }
            }
        });
    </script>

<!-- Initialize Swiper -->
    <script>
        var swiper = new Swiper(".be-af-Swiper", {
            slidesPerView: 2,
            spaceBetween: 30,
            pagination: {
                el: ".swiper-pagination",
            },
            breakpoints: {
                498: {
                    slidesPerView: 3,
                }
            }
        });
    </script>

<!-- Initialize Swiper -->
    <script>
        var swiper = new Swiper(".item-Swiper", {
            pagination: {
                el: ".swiper-pagination",
            },
        });
    </script>

